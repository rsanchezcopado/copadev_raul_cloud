["{\"nodes\":{\"CG_Digest_StoreProduct\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":true,\"name\":\"EndDate\"},{\"name\":\"Name\"},{\"name\":\"ProductId\"},{\"name\":\"RetailStoreId\"},{\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":true,\"name\":\"StartDate\"}],\"object\":\"StoreProduct\"}},\"CG_CE_PromotionChannel_Filter_RetailStore_Records\":{\"action\":\"filter\",\"parameters\":{\"saqlFilter\":\"'RetailStoreId' is not null\"},\"sources\":[\"CG_CE_PromotionChannel\"]},\"CG_Augment_Product_onto_PromotionProduct\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Promotion.ProductId\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"Product\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"CG_Update_PromotionProductCategory_Fill_ProductId_into_new_generated_field\",\"CG_Digest_Product\"]},\"CG_Register_PromotionProduct_with_PromotionProductCategory\":{\"action\":\"register\",\"parameters\":{\"label\":\"CG_PromotionProduct_with_PromotionProductCategory\",\"name\":\"CG_PromotionProduct_with_PromotionProductCategory\"},\"sources\":[\"CG_Augment_ProductCategory1_onto_PromotionProduct\"]},\"CG_Augment_Store_onto_PromotionChannel_Account_Records\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"AccountId\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"RetailStore\",\"rightKey\":[\"AccountId\"],\"rightSelect\":[\"Id\",\"Name\"]},\"sources\":[\"CG_CE_PromotionChannel_Filter_Account_Records\",\"CG_Edgemart_RetailStore\"]},\"CG_Register_StoreProduct\":{\"action\":\"register\",\"parameters\":{\"label\":\"CG_StoreProduct\",\"name\":\"CG_StoreProduct\"},\"sources\":[\"CG_Augment_PromotionProduct_onto_StoreProduct\"]},\"CG_CE_PromotionChannel\":{\"action\":\"computeExpression\",\"parameters\":{\"computedFields\":[{\"label\":\"Dummy_Key\",\"name\":\"Dummy_Key\",\"saqlExpression\":\"\\\"NA\\\"\",\"type\":\"Text\"},{\"format\":\"yyyy-MM-dd\",\"isYearEndFiscalYear\":true,\"label\":\"EndDate_Temp\",\"name\":\"EndDate_Temp\",\"saqlExpression\":\"coalesce(toDate('EndDate', \\\"yyyy-MM-dd\\\"), toDate('Promotion.EndDate', \\\"yyyy-MM-dd\\\"))\",\"type\":\"Date\"},{\"fiscalMonthOffset\":0,\"format\":\"yyyy-MM-dd\",\"isYearEndFiscalYear\":true,\"label\":\"EndDate_Computed\",\"name\":\"EndDate_Computed\",\"saqlExpression\":\"case when coalesce(toDate('EndDate', \\\"yyyy-MM-dd\\\"), toDate('Promotion.EndDate', \\\"yyyy-MM-dd\\\")) is null then case when toDate('StartDate', \\\"yyyy-MM-dd\\\") >= toDate(date_to_string(now(),\\\"yyyy-MM-dd\\\"), \\\"yyyy-MM-dd\\\") then toDate('StartDate', \\\"yyyy-MM-dd\\\") else toDate(date_to_string(now(),\\\"yyyy-MM-dd\\\"), \\\"yyyy-MM-dd\\\") end else coalesce(toDate('EndDate', \\\"yyyy-MM-dd\\\"), toDate('Promotion.EndDate', \\\"yyyy-MM-dd\\\")) end\",\"type\":\"Date\"}],\"mergeWithSource\":true},\"sources\":[\"CG_Augment_Promotion_onto_PromotionChannel\"]},\"CG_Digest_ProductCategory\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Description\"},{\"name\":\"Name\"}],\"object\":\"ProductCategory\"}},\"CG_Digest_PromotionChannel\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"AccountId\"},{\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":true,\"name\":\"EndDate\"},{\"name\":\"Id\"},{\"name\":\"InStoreLocationId\"},{\"name\":\"Name\"},{\"name\":\"PromotionId\"},{\"name\":\"RetailLocationGroupId\"},{\"name\":\"RetailStoreId\"},{\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":true,\"name\":\"StartDate\"}],\"object\":\"PromotionChannel\"}},\"CG_Augment_Store_onto_PromotionChannel_StoreGroup_Records\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"RetailLocationGroupId\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"RetailStore\",\"rightKey\":[\"RetailLocationGroupId\"],\"rightSelect\":[\"Id\",\"Name\"]},\"sources\":[\"CG_CE_PromotionChannel_Filter_RetailStoreGroup_Records\",\"CG_Edgemart_RetailStore\"]},\"CG_Augment_PromotionProductCategory_onto_PromotionChannel\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"PromotionId\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"PromotionProductCategory\",\"rightKey\":[\"PromotionId\"],\"rightSelect\":[\"Promotion.ProductCategory.Name\",\"Promotion.ProductCategoryId\"]},\"sources\":[\"CG_Augment_PromotionProduct_onto_PromotionChannel\",\"CG_Augment_ProductCategoryProduct_onto_PromotionProductCategory\"]},\"CG_Augment_Promotion_onto_PromotionChannel\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"PromotionId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Promotion\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"EndDate\",\"Name\"]},\"sources\":[\"CG_Digest_PromotionChannel\",\"CG_Digest_Promotion\"]},\"CG_Digest_ProductCategoryProduct\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"ProductCategoryId\"},{\"name\":\"ProductId\"},{\"name\":\"Name\"}],\"object\":\"ProductCategoryProduct\"}},\"CG_Augment_PromotionProduct_onto_PromotionChannel\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"PromotionId\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"PromotionProduct\",\"rightKey\":[\"PromotionId\"],\"rightSelect\":[\"Product.Name\",\"ProductId\"]},\"sources\":[\"CG_Append_All_PromotionChannel_Nodes\",\"CG_Augment_Product_onto_PromotionProduct\"]},\"CG_Augment_PromotionProduct_onto_StoreProduct\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ProductId\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"PromotionProduct\",\"rightKey\":[\"Promotion.ProductId\"],\"rightSelect\":[\"PromotionId\"]},\"sources\":[\"CG_Augment_RetailStore_onto_StoreProduct\",\"CG_Augment_ProductCategory1_onto_PromotionProduct\"]},\"CG_Register_PromotionChannel\":{\"action\":\"register\",\"parameters\":{\"label\":\"CG_PromotionChannel\",\"name\":\"CG_PromotionChannel\"},\"sources\":[\"CG_Augment_PromotionProductCategory_onto_PromotionChannel\"]},\"CG_Augment_ProductCategory1_onto_PromotionProduct\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"Promotion.ProductCategoryId\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"ProductCategory\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"CG_Augment_Product_onto_PromotionProduct\",\"CG_Digest_ProductCategory\"]},\"CG_Augment_Store_onto_PromotionChannel_Store_Records\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"RetailStoreId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"RetailStore\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Id\",\"Name\"]},\"sources\":[\"CG_CE_PromotionChannel_Filter_RetailStore_Records\",\"CG_Edgemart_RetailStore\"]},\"CG_Digest_PromotionProductCategory\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"ProductCategoryId\"},{\"name\":\"PromotionId\"},{\"name\":\"Id\"},{\"name\":\"Name\"}],\"object\":\"PromotionProductCategory\"}},\"CG_Append_PromotionProduct_with_PromotionProductCategory\":{\"action\":\"append\",\"parameters\":{\"enableDisjointedSchemaMerge\":true},\"sources\":[\"CG_Augment_ProductCategoryProduct_onto_PromotionProductCategory\",\"CG_Augment_ProductCategory_onto_PromotionProduct\"]},\"CG_Digest_PromotionProduct\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Name\"},{\"name\":\"ProductId\"},{\"name\":\"PromotionId\"}],\"object\":\"PromotionProduct\"}},\"CG_CE_PromotionChannel_Filter_Account_Records\":{\"action\":\"filter\",\"parameters\":{\"saqlFilter\":\"'AccountId' is not null && 'RetailStoreId' is null\"},\"sources\":[\"CG_CE_PromotionChannel\"]},\"CG_CE_PromotionChannel_Filter_RetailStoreGroup_Records\":{\"action\":\"filter\",\"parameters\":{\"saqlFilter\":\"'RetailLocationGroupId' is not null && 'RetailStoreId' is null && 'AccountId' is null\"},\"sources\":[\"CG_CE_PromotionChannel\"]},\"CG_Update_PromotionProductCategory_Fill_ProductId_into_new_generated_field\":{\"action\":\"update\",\"parameters\":{\"leftKey\":[\"PromotionId\",\"ProductId\"],\"rightKey\":[\"PromotionId\",\"ProductId\"],\"updateColumns\":{\"Promotion.ProductId\":\"ProductId\"}},\"sources\":[\"CG_Append_PromotionProduct_with_PromotionProductCategory\",\"CG_Digest_PromotionProduct\"]},\"CG_Digest_Promotion\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":true,\"name\":\"EndDate\"},{\"name\":\"Name\"},{\"fiscalMonthOffset\":0,\"isYearEndFiscalYear\":true,\"name\":\"StartDate\"}],\"object\":\"Promotion\"}},\"CG_Augment_ProductCategory_onto_PromotionProduct\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ProductId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Promotion\",\"rightKey\":[\"ProductId\"],\"rightSelect\":[\"ProductCategoryId\"]},\"sources\":[\"CG_Digest_PromotionProduct\",\"CG_Digest_ProductCategoryProduct\"]},\"CG_Append_All_PromotionChannel_Nodes\":{\"action\":\"append\",\"parameters\":{\"enableDisjointedSchemaMerge\":true},\"sources\":[\"CG_Augment_Store_onto_PromotionChannel_Account_Records\",\"CG_Augment_Store_onto_PromotionChannel_Store_Records\",\"CG_Augment_Store_onto_PromotionChannel_StoreGroup_Records\"]},\"CG_Augment_Product_onto_StoreProduct\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ProductId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"Product\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"CG_Digest_StoreProduct\",\"CG_Digest_Product\"]},\"CG_Digest_Product\":{\"action\":\"sobjectDigest\",\"parameters\":{\"fields\":[{\"name\":\"Id\"},{\"name\":\"Family\"},{\"name\":\"Name\"}],\"object\":\"Product2\"}},\"CG_Augment_RetailStore_onto_StoreProduct\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"RetailStoreId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"RetailStore\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\",\"Account.Name\",\"Location.Address.State\",\"Location.Address.City\",\"Location.Name\",\"RetailStoreGroup.Name\"]},\"sources\":[\"CG_Augment_ProductCategoryProduct_onto_StoreProduct\",\"CG_Edgemart_RetailStore\"]},\"CG_Augment_ProductCategoryProduct_onto_PromotionProductCategory\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ProductCategoryId\"],\"operation\":\"LookupMultiValue\",\"relationship\":\"Promotion\",\"rightKey\":[\"ProductCategoryId\"],\"rightSelect\":[\"ProductId\",\"ProductCategoryId\",\"ProductCategory.Name\"]},\"sources\":[\"CG_Digest_PromotionProductCategory\",\"CG_Augment_ProductCategory_onto_ProductCategoryProduct\"]},\"CG_Augment_ProductCategory_onto_ProductCategoryProduct\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ProductCategoryId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"ProductCategory\",\"rightKey\":[\"Id\"],\"rightSelect\":[\"Name\"]},\"sources\":[\"CG_Digest_ProductCategoryProduct\",\"CG_Digest_ProductCategory\"]},\"CG_Augment_ProductCategoryProduct_onto_StoreProduct\":{\"action\":\"augment\",\"parameters\":{\"leftKey\":[\"ProductId\"],\"operation\":\"LookupSingleValue\",\"relationship\":\"ProductCategory\",\"rightKey\":[\"ProductId\"],\"rightSelect\":[\"ProductCategory.Name\"]},\"sources\":[\"CG_Augment_Product_onto_StoreProduct\",\"CG_Augment_ProductCategory_onto_ProductCategoryProduct\"]},\"CG_Edgemart_RetailStore\":{\"action\":\"dataset\",\"parameters\":{\"name\":\"CG_RetailStore\"}}}}",null]